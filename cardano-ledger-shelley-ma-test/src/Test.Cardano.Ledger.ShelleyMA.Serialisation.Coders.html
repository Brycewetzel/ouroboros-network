<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-20"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-21"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-missing-signatures #-}</span><span>
</span><span id="line-22"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-23"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-unused-binds #-}</span><span>
</span><span id="line-24"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-unused-imports #-}</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#codersTest"><span class="hs-identifier">codersTest</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip"><span class="hs-identifier">roundTrip</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier">roundTrip'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#embedTrip"><span class="hs-identifier">embedTrip</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTripAnn"><span class="hs-identifier">roundTripAnn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#embedTripAnn"><span class="hs-identifier">embedTripAnn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#RoundTripResult"><span class="hs-identifier">RoundTripResult</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">Cardano.Binary</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">Annotator</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">DecoderError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">DecoderErrorCustom</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">fromCBOR</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">toCBOR</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><span class="hs-identifier">decodeBreakOr</span></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><span class="hs-identifier">decodeListLenOrIndef</span></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><span class="hs-identifier">decodeMapLenOrIndef</span></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="hs-identifier">decodeWord</span></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-identifier">encodeBreak</span></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-identifier">encodeListLen</span></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><span class="hs-identifier">encodeListLenIndef</span></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="hs-identifier">encodeMapLen</span></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><span class="hs-identifier">encodeWord</span></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">matchSize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">FullByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">Full</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier">Cardano.Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier">cborError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.CBOR.Decoding</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Decoder</span></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.CBOR.Encoding</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Encoding</span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.CBOR.FlatTerm</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">TermToken</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toFlatTerm</span></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.CBOR.Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DeserialiseFailure</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">deserialiseFromBytes</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.CBOR.Write</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">toLazyByteString</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">replicateM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Array</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">Data.Coders</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier">Annotator</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">Dual</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">Density</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">Wrapped</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeCollection</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeCollectionWithLen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeRecordNamed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeRecordSum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeSeq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">decodeStrictSeq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">dualList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">dualSeq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">dualSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">dualStrictSeq</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">dualText</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">encode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">encodeFoldable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">encodeFoldableEncoder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">from</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">invalidKey</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">runE</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">to</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier">wrapCBORArray</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator">(!&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator">(&lt;!)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator">(&lt;*!)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">foldl'</span></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Sequence</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Seq</span></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Sequence</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Seq</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier">Data.Sequence.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier">StrictSeq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier">fromList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier">Data.Sequence.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">StrictSeq</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Set</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">insert</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">member</span></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Text</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pack</span></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Test.Tasty</span></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Test.Tasty.HUnit</span></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Test.Tasty.QuickCheck</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">scale</span></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- =====================================================================</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">type</span><span> </span><span id="RoundTripResult"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#RoundTripResult"><span class="hs-identifier hs-var">RoundTripResult</span></a></span></span><span> </span><span id="local-6989586621679140469"><span class="annot"><a href="#local-6989586621679140469"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Codec.CBOR.Read.DeserialiseFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140469"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span id="local-6989586621679140468"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip"><span class="hs-identifier hs-type">roundTrip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140468"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140468"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140468"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#RoundTripResult"><span class="hs-identifier hs-type">RoundTripResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140468"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-117"></span><span id="roundTrip"><span class="annot"><span class="annottext">roundTrip :: t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip"><span class="hs-identifier hs-var hs-var">roundTrip</span></a></span></span><span> </span><span id="local-6989586621679140467"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140467"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s t) -&gt; ByteString -&gt; RoundTripResult t
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><span class="hs-identifier hs-var">deserialiseFromBytes</span></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s t
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><span class="hs-identifier hs-var">toLazyByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140467"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span id="local-6989586621679140574"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-type">roundTrip'</span></a></span><span> </span><span class="hs-glyph">::</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140574"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679140668"><span class="annot"><a href="#local-6989586621679140668"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Decoder</span></span><span> </span><span class="annot"><a href="#local-6989586621679140668"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140574"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140574"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#RoundTripResult"><span class="hs-identifier hs-type">RoundTripResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140574"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-120"></span><span id="roundTrip%27"><span class="annot"><span class="annottext">roundTrip' :: (t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-var hs-var">roundTrip'</span></a></span></span><span> </span><span id="local-6989586621679140466"><span class="annot"><span class="annottext">t -&gt; Encoding
</span><a href="#local-6989586621679140466"><span class="hs-identifier hs-var">enc</span></a></span></span><span> </span><span id="local-6989586621679140465"><span class="annot"><span class="annottext">forall s. Decoder s t
</span><a href="#local-6989586621679140465"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span id="local-6989586621679140464"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140464"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s t) -&gt; ByteString -&gt; RoundTripResult t
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><span class="hs-identifier hs-var">deserialiseFromBytes</span></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s t
</span><a href="#local-6989586621679140465"><span class="hs-identifier hs-var">dec</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><span class="hs-identifier hs-var">toLazyByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Encoding
</span><a href="#local-6989586621679140466"><span class="hs-identifier hs-var">enc</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140464"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span id="local-6989586621679140463"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTripAnn"><span class="hs-identifier hs-type">roundTripAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140463"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">Annotator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140463"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140463"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#RoundTripResult"><span class="hs-identifier hs-type">RoundTripResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140463"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-123"></span><span id="roundTripAnn"><span class="annot"><span class="annottext">roundTripAnn :: t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTripAnn"><span class="hs-identifier hs-var hs-var">roundTripAnn</span></a></span></span><span> </span><span id="local-6989586621679140462"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140462"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679140461"><span class="annot"><span class="annottext">bytes :: ByteString
</span><a href="#local-6989586621679140461"><span class="hs-identifier hs-var hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><span class="hs-identifier hs-var">toLazyByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140462"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s (Annotator t))
-&gt; ByteString
-&gt; Either DeserialiseFailure (ByteString, Annotator t)
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><span class="hs-identifier hs-var">deserialiseFromBytes</span></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s (Annotator t)
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140461"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679140460"><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140460"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure -&gt; RoundTripResult t
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140460"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140459"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140459"><span class="hs-identifier hs-var">leftover</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">Annotator</span></a></span><span> </span><span id="local-6989586621679140457"><span class="annot"><span class="annottext">FullByteString -&gt; t
</span><a href="#local-6989586621679140457"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(ByteString, t) -&gt; RoundTripResult t
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140459"><span class="hs-identifier hs-var">leftover</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FullByteString -&gt; t
</span><a href="#local-6989586621679140457"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; FullByteString
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">Full</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140461"><span class="hs-identifier hs-var">bytes</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | Can we serialise a type, and then deserialise it as something else?</span><span>
</span><span id="line-130"></span><span id="local-6989586621679140455"><span id="local-6989586621679140456"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#embedTrip"><span class="hs-identifier hs-type">embedTrip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140456"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140455"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140456"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#RoundTripResult"><span class="hs-identifier hs-type">RoundTripResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140455"><span class="hs-identifier hs-type">s</span></a></span></span></span><span>
</span><span id="line-131"></span><span id="embedTrip"><span class="annot"><span class="annottext">embedTrip :: t -&gt; RoundTripResult s
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#embedTrip"><span class="hs-identifier hs-var hs-var">embedTrip</span></a></span></span><span> </span><span id="local-6989586621679140454"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140454"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s s) -&gt; ByteString -&gt; RoundTripResult s
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><span class="hs-identifier hs-var">deserialiseFromBytes</span></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s s
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><span class="hs-identifier hs-var">toLazyByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140454"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#embedTripAnn"><span class="hs-identifier hs-type">embedTripAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679140453"><span class="annot"><a href="#local-6989586621679140453"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679140452"><span class="annot"><a href="#local-6989586621679140452"><span class="hs-identifier hs-type">t</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140452"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">Annotator</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140453"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140452"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#RoundTripResult"><span class="hs-identifier hs-type">RoundTripResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140453"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-134"></span><span id="embedTripAnn"><span class="annot"><span class="annottext">embedTripAnn :: t -&gt; RoundTripResult s
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#embedTripAnn"><span class="hs-identifier hs-var hs-var">embedTripAnn</span></a></span></span><span> </span><span id="local-6989586621679140451"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140451"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679140450"><span class="annot"><span class="annottext">bytes :: ByteString
</span><a href="#local-6989586621679140450"><span class="hs-identifier hs-var hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><span class="hs-identifier hs-var">toLazyByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140451"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s (Annotator s))
-&gt; ByteString
-&gt; Either DeserialiseFailure (ByteString, Annotator s)
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><span class="hs-identifier hs-var">deserialiseFromBytes</span></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s (Annotator s)
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140450"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-137"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679140449"><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140449"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure -&gt; RoundTripResult s
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140449"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-138"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140448"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140448"><span class="hs-identifier hs-var">leftover</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">Annotator</span></a></span><span> </span><span id="local-6989586621679140447"><span class="annot"><span class="annottext">FullByteString -&gt; s
</span><a href="#local-6989586621679140447"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(ByteString, s) -&gt; RoundTripResult s
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140448"><span class="hs-identifier hs-var">leftover</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FullByteString -&gt; s
</span><a href="#local-6989586621679140447"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; FullByteString
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">Full</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679140450"><span class="hs-identifier hs-var">bytes</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- ==========================================================================</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-keyword">data</span><span> </span><span id="TT"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#TT"><span class="hs-identifier hs-var">TT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="A"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-var">A</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="B"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#B"><span class="hs-identifier hs-var">B</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="G"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#G"><span class="hs-identifier hs-var">G</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="H"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#H"><span class="hs-identifier hs-var">H</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier hs-type">StrictSeq</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140437"><span id="local-6989586621679140439"><span id="local-6989586621679140441"><span class="annot"><span class="annottext">Int -&gt; TT -&gt; ShowS
[TT] -&gt; ShowS
TT -&gt; String
(Int -&gt; TT -&gt; ShowS)
-&gt; (TT -&gt; String) -&gt; ([TT] -&gt; ShowS) -&gt; Show TT
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TT] -&gt; ShowS
$cshowList :: [TT] -&gt; ShowS
show :: TT -&gt; String
$cshow :: TT -&gt; String
showsPrec :: Int -&gt; TT -&gt; ShowS
$cshowsPrec :: Int -&gt; TT -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140432"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#TT"><span class="hs-identifier hs-type">TT</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679140430"><span class="annot"><span class="annottext">fromCBOR :: Decoder s TT
</span><a href="#local-6989586621679140430"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Word -&gt; Decoder s (Int, TT)) -&gt; Decoder s TT
forall s a. String -&gt; (Word -&gt; Decoder s (Int, a)) -&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decodeRecordSum</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TT&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Word -&gt; Decoder s (Int, TT)) -&gt; Decoder s TT)
-&gt; (Word -&gt; Decoder s (Int, TT)) -&gt; Decoder s TT
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679140429"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140429"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140429"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679140428"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140428"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Int
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Int, TT) -&gt; Decoder s (Int, TT)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-var">A</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140428"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Tag for A is 0</span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679140427"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140427"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Int
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621679140426"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140426"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Bool
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Int, TT) -&gt; Decoder s (Int, TT)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#B"><span class="hs-identifier hs-var">B</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140427"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140426"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Tag for B is 1</span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679140425"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679140425"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Int -&gt; Decoder s [Int]
forall s a. Decoder s a -&gt; Decoder s [a]
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decodeList</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s Int
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Int, TT) -&gt; Decoder s (Int, TT)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#G"><span class="hs-identifier hs-var">G</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679140425"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Tag for G is 2</span><span>
</span><span id="line-150"></span><span>      </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679140424"><span class="annot"><span class="annottext">StrictSeq Bool
</span><a href="#local-6989586621679140424"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Decoder s Bool -&gt; Decoder s (StrictSeq Bool)
forall s a. Decoder s a -&gt; Decoder s (StrictSeq a)
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decodeStrictSeq</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s Bool
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">(Int, TT) -&gt; Decoder s (Int, TT)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">StrictSeq Bool -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#H"><span class="hs-identifier hs-var">H</span></a></span><span> </span><span class="annot"><span class="annottext">StrictSeq Bool
</span><a href="#local-6989586621679140424"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Tag for H is 3</span><span>
</span><span id="line-151"></span><span>      </span><span id="local-6989586621679140423"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140423"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decoder s (Int, TT)
forall s a. Word -&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">invalidKey</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140423"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- =============================================================================================</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- JUST A NOTE about the (instance ToCBOR a =&gt; ToCBOR [a]). This uses the Begin .. End encoding,</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- while encodeList uses the list-length encoding.</span><span>
</span><span id="line-156"></span><span class="hs-comment">--     toCBOR [5::Int,2]     --&gt; [TkListBegin,TkInt 5,TkInt 2,TkBreak].</span><span>
</span><span id="line-157"></span><span class="hs-comment">--     encodeList [5::Int,2] --&gt; [TkListLen 2,TkInt 5,TkInt 2]</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- the (instance FromCBOR a =&gt; FromCBOR [a]) will ONLY RECOGNIZE THE BEGIN END ENCODING.</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- but the decoder (decodeList fromCBOR) will recognize both styles of encoding. So in a decoder</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- or FromCBOR instance it is always preferable to use (decodeList fromCBOR) over (fromCBOR)</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- For example in the instance above, we could write either of these 2 lines</span><span>
</span><span id="line-162"></span><span class="hs-comment">--       2 -&gt; do { l &lt;- decodeList fromCBOR; pure(2,G l) }</span><span>
</span><span id="line-163"></span><span class="hs-comment">--       2 -&gt; do { l &lt;- fromCBOR; pure(2,G l) }</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- BUT THE FIRST IS MORE GENERAL. The following instance should be replaced</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- instance FromCBOR a =&gt; FromCBOR [a]  -- Defined in &#8216;cardano-binary-1.5.0:Cardano.Binary.FromCBOR&#8217;</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140417"><span id="local-6989586621679140419"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#TT"><span class="hs-identifier hs-type">TT</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679140415"><span class="annot"><span class="annottext">toCBOR :: TT -&gt; Encoding
</span><a href="#local-6989586621679140415"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span id="local-6989586621679140414"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140414"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeListLen</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140414"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#B"><span class="hs-identifier hs-type">B</span></a></span><span> </span><span id="local-6989586621679140413"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140413"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679140412"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140412"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeListLen</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140413"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140412"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#G"><span class="hs-identifier hs-type">G</span></a></span><span> </span><span id="local-6989586621679140411"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679140411"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeListLen</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679140411"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#H"><span class="hs-identifier hs-type">H</span></a></span><span> </span><span id="local-6989586621679140410"><span class="annot"><span class="annottext">StrictSeq Bool
</span><a href="#local-6989586621679140410"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeListLen</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeWord</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; Encoding -&gt; Encoding
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">StrictSeq Bool -&gt; Encoding
forall t. ToCBOR t =&gt; StrictSeq t -&gt; Encoding
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeStrictSeq"><span class="hs-identifier hs-var">encodeStrictSeq</span></a></span><span> </span><span class="annot"><span class="annottext">StrictSeq Bool
</span><a href="#local-6989586621679140410"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">-- The Key is that in (G constr tag &lt;@&gt; ...)</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- The 'tag' for 'constr' aligns with the Tag in the case match</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- in the FromCBOR instance for TT above.</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sA"><span class="hs-identifier hs-type">sA</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sB"><span class="hs-identifier hs-type">sB</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sG"><span class="hs-identifier hs-type">sG</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sGa"><span class="hs-identifier hs-type">sGa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sH"><span class="hs-identifier hs-type">sH</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Open</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#TT"><span class="hs-identifier hs-type">TT</span></a></span><span>
</span><span id="line-178"></span><span id="sA"><span class="annot"><span class="annottext">sA :: Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sA"><span class="hs-identifier hs-var hs-var">sA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; TT) -&gt; Word -&gt; Encode 'Open (Int -&gt; TT)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-var">A</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; TT)
-&gt; Encode ('Closed 'Dense) Int -&gt; Encode 'Open TT
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="hs-comment">-- Tag for A is 0</span><span>
</span><span id="line-179"></span><span id="sB"><span class="annot"><span class="annottext">sB :: Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sB"><span class="hs-identifier hs-var hs-var">sB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; TT) -&gt; Word -&gt; Encode 'Open (Int -&gt; Bool -&gt; TT)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#B"><span class="hs-identifier hs-var">B</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; Bool -&gt; TT)
-&gt; Encode ('Closed 'Dense) Int -&gt; Encode 'Open (Bool -&gt; TT)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">13</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Bool -&gt; TT)
-&gt; Encode ('Closed 'Dense) Bool -&gt; Encode 'Open TT
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encode ('Closed 'Dense) Bool
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-comment">-- Tag for B is 1</span><span>
</span><span id="line-180"></span><span id="sG"><span class="annot"><span class="annottext">sG :: Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sG"><span class="hs-identifier hs-var hs-var">sG</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; TT) -&gt; Word -&gt; Encode 'Open ([Int] -&gt; TT)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#G"><span class="hs-identifier hs-var">G</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Int] -&gt; TT)
-&gt; Encode ('Closed 'Dense) [Int] -&gt; Encode 'Open TT
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Encode ('Closed 'Dense) [Int]
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Tag for G is 2</span><span>
</span><span id="line-181"></span><span id="sGa"><span class="annot"><span class="annottext">sGa :: Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sGa"><span class="hs-identifier hs-var hs-var">sGa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; TT) -&gt; Word -&gt; Encode 'Open ([Int] -&gt; TT)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#G"><span class="hs-identifier hs-var">G</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Int] -&gt; TT)
-&gt; Encode ('Closed 'Dense) [Int] -&gt; Encode 'Open TT
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; Encoding) -&gt; [Int] -&gt; Encode ('Closed 'Dense) [Int]
forall t. (t -&gt; Encoding) -&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Encoding
forall t. ToCBOR t =&gt; [t] -&gt; Encoding
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeList"><span class="hs-identifier hs-var">encodeList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Tag for G is 2</span><span>
</span><span id="line-182"></span><span id="sH"><span class="annot"><span class="annottext">sH :: Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sH"><span class="hs-identifier hs-var hs-var">sH</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(StrictSeq Bool -&gt; TT)
-&gt; Word -&gt; Encode 'Open (StrictSeq Bool -&gt; TT)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">StrictSeq Bool -&gt; TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#H"><span class="hs-identifier hs-var">H</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (StrictSeq Bool -&gt; TT)
-&gt; Encode ('Closed 'Dense) (StrictSeq Bool) -&gt; Encode 'Open TT
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictSeq Bool -&gt; Encoding)
-&gt; StrictSeq Bool -&gt; Encode ('Closed 'Dense) (StrictSeq Bool)
forall t. (t -&gt; Encoding) -&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">E</span></a></span><span> </span><span class="annot"><span class="annottext">StrictSeq Bool -&gt; Encoding
forall t. ToCBOR t =&gt; StrictSeq t -&gt; Encoding
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeStrictSeq"><span class="hs-identifier hs-var">encodeStrictSeq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Bool] -&gt; StrictSeq Bool
forall a. [a] -&gt; StrictSeq a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Tag for H is 3</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span id="local-6989586621679140622"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeList"><span class="hs-identifier hs-type">encodeList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140622"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679140622"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span></span><span>
</span><span id="line-185"></span><span id="encodeList"><span class="annot"><span class="annottext">encodeList :: [t] -&gt; Encoding
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeList"><span class="hs-identifier hs-var hs-var">encodeList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[t] -&gt; Encoding
forall a (f :: * -&gt; *). (ToCBOR a, Foldable f) =&gt; f a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encodeFoldable</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span id="local-6989586621679140634"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeStrictSeq"><span class="hs-identifier hs-type">encodeStrictSeq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140634"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src"><span class="hs-identifier hs-type">StrictSeq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140634"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span></span><span>
</span><span id="line-188"></span><span id="encodeStrictSeq"><span class="annot"><span class="annottext">encodeStrictSeq :: StrictSeq t -&gt; Encoding
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeStrictSeq"><span class="hs-identifier hs-var hs-var">encodeStrictSeq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StrictSeq t -&gt; Encoding
forall a (f :: * -&gt; *). (ToCBOR a, Foldable f) =&gt; f a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encodeFoldable</span></a></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- ===============================================================</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- ===================================</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- Examples</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-keyword">data</span><span> </span><span id="Two"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Two"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140393"><span id="local-6989586621679140395"><span id="local-6989586621679140397"><span class="annot"><span class="annottext">Int -&gt; Two -&gt; ShowS
[Two] -&gt; ShowS
Two -&gt; String
(Int -&gt; Two -&gt; ShowS)
-&gt; (Two -&gt; String) -&gt; ([Two] -&gt; ShowS) -&gt; Show Two
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Two] -&gt; ShowS
$cshowList :: [Two] -&gt; ShowS
show :: Two -&gt; String
$cshow :: Two -&gt; String
showsPrec :: Int -&gt; Two -&gt; ShowS
$cshowsPrec :: Int -&gt; Two -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTwo"><span class="hs-identifier hs-type">decTwo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span>
</span><span id="line-199"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTwo"><span class="hs-identifier hs-type">encTwo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span>
</span><span id="line-200"></span><span id="decTwo"><span class="annot"><span class="annottext">decTwo :: Decode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTwo"><span class="hs-identifier hs-var hs-var">decTwo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Two)
-&gt; Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
-&gt; Decode ('Closed Any) Int
-&gt; Decode ('Closed 'Dense) (Bool -&gt; Two)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Bool -&gt; Two)
-&gt; Decode ('Closed Any) Bool -&gt; Decode ('Closed 'Dense) Two
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Bool
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span id="encTwo"><span class="annot"><span class="annottext">encTwo :: Two -&gt; Encode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTwo"><span class="hs-identifier hs-var hs-var">encTwo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span id="local-6989586621679140388"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140388"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679140387"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140387"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode ('Closed 'Dense) (Bool -&gt; Two)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140388"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) Bool -&gt; Encode ('Closed 'Dense) Two
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encode ('Closed 'Dense) Bool
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140387"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140380"><span id="local-6989586621679140382"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-205"></span><span>  </span><span id="local-6989586621679140379"><span class="annot"><span class="annottext">toCBOR :: Two -&gt; Encoding
</span><a href="#local-6989586621679140379"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span id="local-6989586621679140378"><span class="annot"><span class="annottext">Two
</span><a href="#local-6989586621679140378"><span class="hs-identifier hs-var">two</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) Two -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode ('Closed 'Dense) Two -&gt; Encoding)
-&gt; Encode ('Closed 'Dense) Two -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Two -&gt; Encode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTwo"><span class="hs-identifier hs-var">encTwo</span></a></span><span> </span><span class="annot"><span class="annottext">Two
</span><a href="#local-6989586621679140378"><span class="hs-identifier hs-var">two</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140374"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621679140373"><span class="annot"><span class="annottext">fromCBOR :: Decoder s Two
</span><a href="#local-6989586621679140373"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Two -&gt; Decoder s Two
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTwo"><span class="hs-identifier hs-var">decTwo</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-comment">-- ============</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-keyword">data</span><span> </span><span id="Test"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Test"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140366"><span id="local-6989586621679140368"><span id="local-6989586621679140370"><span class="annot"><span class="annottext">Int -&gt; Test -&gt; ShowS
[Test] -&gt; ShowS
Test -&gt; String
(Int -&gt; Test -&gt; ShowS)
-&gt; (Test -&gt; String) -&gt; ([Test] -&gt; ShowS) -&gt; Show Test
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Test] -&gt; ShowS
$cshowList :: [Test] -&gt; ShowS
show :: Test -&gt; String
$cshow :: Test -&gt; String
showsPrec :: Int -&gt; Test -&gt; ShowS
$cshowsPrec :: Int -&gt; Test -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#test1"><span class="hs-identifier hs-type">test1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span><span>
</span><span id="line-216"></span><span id="test1"><span class="annot"><span class="annottext">test1 :: Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#test1"><span class="hs-identifier hs-var hs-var">test1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Two -&gt; Integer -&gt; Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">33</span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTestWithGroupForTwo"><span class="hs-identifier hs-type">decTestWithGroupForTwo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span><span>
</span><span id="line-219"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTestWithGroupForTwo"><span class="hs-identifier hs-type">encTestWithGroupForTwo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span><span>
</span><span id="line-220"></span><span id="decTestWithGroupForTwo"><span class="annot"><span class="annottext">decTestWithGroupForTwo :: Decode ('Closed 'Dense) Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTestWithGroupForTwo"><span class="hs-identifier hs-var hs-var">decTestWithGroupForTwo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Decode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Two -&gt; Integer -&gt; Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Decode ('Closed Any) Int
-&gt; Decode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
-&gt; Decode ('Closed 'Dense) Two
-&gt; Decode ('Closed 'Dense) (Integer -&gt; Test)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTwo"><span class="hs-identifier hs-var">decTwo</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Integer -&gt; Test)
-&gt; Decode ('Closed Any) Integer -&gt; Decode ('Closed 'Dense) Test
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Integer
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span id="encTestWithGroupForTwo"><span class="annot"><span class="annottext">encTestWithGroupForTwo :: Test -&gt; Encode ('Closed 'Dense) Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTestWithGroupForTwo"><span class="hs-identifier hs-var hs-var">encTestWithGroupForTwo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span><span> </span><span id="local-6989586621679140362"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140362"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679140361"><span class="annot"><span class="annottext">Two
</span><a href="#local-6989586621679140361"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679140360"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140360"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Two -&gt; Integer -&gt; Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140362"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) Two
-&gt; Encode ('Closed 'Dense) (Integer -&gt; Test)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Two -&gt; Encode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTwo"><span class="hs-identifier hs-var">encTwo</span></a></span><span> </span><span class="annot"><span class="annottext">Two
</span><a href="#local-6989586621679140361"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) Integer -&gt; Encode ('Closed 'Dense) Test
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Encode ('Closed 'Dense) Integer
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140360"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140354"><span id="local-6989586621679140356"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621679140353"><span class="annot"><span class="annottext">toCBOR :: Test -&gt; Encoding
</span><a href="#local-6989586621679140353"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) Test -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode ('Closed 'Dense) Test -&gt; Encoding)
-&gt; (Test -&gt; Encode ('Closed 'Dense) Test) -&gt; Test -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Test -&gt; Encode ('Closed 'Dense) Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTestWithGroupForTwo"><span class="hs-identifier hs-var">encTestWithGroupForTwo</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140348"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>  </span><span id="local-6989586621679140347"><span class="annot"><span class="annottext">fromCBOR :: Decoder s Test
</span><a href="#local-6989586621679140347"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Test -&gt; Decoder s Test
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTestWithGroupForTwo"><span class="hs-identifier hs-var">decTestWithGroupForTwo</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-comment">-- ===========</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-keyword">data</span><span> </span><span id="Three"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Three"><span class="hs-identifier hs-var">Three</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="In"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#In"><span class="hs-identifier hs-var">In</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="N"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-var">N</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="F"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#F"><span class="hs-identifier hs-var">F</span></a></span></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140338"><span id="local-6989586621679140340"><span id="local-6989586621679140342"><span class="annot"><span class="annottext">Int -&gt; Three -&gt; ShowS
[Three] -&gt; ShowS
Three -&gt; String
(Int -&gt; Three -&gt; ShowS)
-&gt; (Three -&gt; String) -&gt; ([Three] -&gt; ShowS) -&gt; Show Three
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Three] -&gt; ShowS
$cshowList :: [Three] -&gt; ShowS
show :: Three -&gt; String
$cshow :: Three -&gt; String
showsPrec :: Int -&gt; Three -&gt; ShowS
$cshowsPrec :: Int -&gt; Three -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three1"><span class="hs-identifier hs-type">three1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three2"><span class="hs-identifier hs-type">three2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three3"><span class="hs-identifier hs-type">three3</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Three"><span class="hs-identifier hs-type">Three</span></a></span><span>
</span><span id="line-236"></span><span id="three1"><span class="annot"><span class="annottext">three1 :: Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three1"><span class="hs-identifier hs-var hs-var">three1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-237"></span><span id="three2"><span class="annot"><span class="annottext">three2 :: Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three2"><span class="hs-identifier hs-var hs-var">three2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Integer -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">22</span></span><span>
</span><span id="line-238"></span><span id="three3"><span class="annot"><span class="annottext">three3 :: Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three3"><span class="hs-identifier hs-var hs-var">three3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Two -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#F"><span class="hs-identifier hs-var">F</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-comment">-- The following values 'decThree' and 'encThree' are meant to simulate the following instances</span><span>
</span><span id="line-241"></span><span class="hs-comment">{-
instance ToCBOR Three where
  toCBOR (In x) = encodeListLen 2 &lt;&gt; encodeWord 0 &lt;&gt; toCBOR x
  toCBOR (N b i) = encodeListLen 3 &lt;&gt; encodeWord 1 &lt;&gt; toCBOR b &lt;&gt; toCBOR i
  toCBOR (F (Two i b)) = encodeListLen 3 &lt;&gt; encodeWord 2 &lt;&gt; toCBOR i &lt;&gt;  toCBOR b
     -- even though F has only 1 argument, we inline the two parts of Two,
     -- so it appears to have 2 arguments. This mimics CBORGROUP instances

instance FromCBOR Three where
  fromCBOR = decodeRecordSum &quot;Three&quot; $
    \case
      0 -&gt; do
        x &lt;- fromCBOR
        pure (2, In x)
      1 -&gt; do
        b &lt;- fromCBOR
        i &lt;- fromCBOR
        pure (3, N b i)
      2 -&gt; do
        i &lt;- fromCBOR
        b &lt;- fromCBOR
        pure (3,F (Two i b))
      k -&gt; invalidKey k
-}</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decThree"><span class="hs-identifier hs-type">decThree</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Open</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Three"><span class="hs-identifier hs-type">Three</span></a></span><span>
</span><span id="line-267"></span><span id="decThree"><span class="annot"><span class="annottext">decThree :: Word -&gt; Decode 'Open Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decThree"><span class="hs-identifier hs-var hs-var">decThree</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Three) -&gt; Decode 'Open (Int -&gt; Three)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Int -&gt; Three)
-&gt; Decode ('Closed Any) Int -&gt; Decode 'Open Three
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decThree"><span class="hs-identifier hs-var">decThree</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; Integer -&gt; Three)
-&gt; Decode 'Open (Bool -&gt; Integer -&gt; Three)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Integer -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Bool -&gt; Integer -&gt; Three)
-&gt; Decode ('Closed Any) Bool -&gt; Decode 'Open (Integer -&gt; Three)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Bool
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Integer -&gt; Three)
-&gt; Decode ('Closed Any) Integer -&gt; Decode 'Open Three
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Integer
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decThree"><span class="hs-identifier hs-var">decThree</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Two -&gt; Three) -&gt; Decode 'Open (Two -&gt; Three)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Two -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#F"><span class="hs-identifier hs-var">F</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Two -&gt; Three)
-&gt; Decode ('Closed 'Dense) Two -&gt; Decode 'Open Three
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decTwo"><span class="hs-identifier hs-var">decTwo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decThree"><span class="hs-identifier hs-var">decThree</span></a></span><span> </span><span id="local-6989586621679140332"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140332"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open Three
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140332"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-type">encThree</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Three"><span class="hs-identifier hs-type">Three</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Open</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Three"><span class="hs-identifier hs-type">Three</span></a></span><span>
</span><span id="line-273"></span><span id="encThree"><span class="annot"><span class="annottext">encThree :: Three -&gt; Encode 'Open Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-var hs-var">encThree</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679140329"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140329"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Three) -&gt; Word -&gt; Encode 'Open (Int -&gt; Three)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; Three)
-&gt; Encode ('Closed 'Dense) Int -&gt; Encode 'Open Three
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140329"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-274"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-var">encThree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span id="local-6989586621679140328"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140328"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679140327"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140327"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; Integer -&gt; Three)
-&gt; Word -&gt; Encode 'Open (Bool -&gt; Integer -&gt; Three)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Integer -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Bool -&gt; Integer -&gt; Three)
-&gt; Encode ('Closed 'Dense) Bool -&gt; Encode 'Open (Integer -&gt; Three)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encode ('Closed 'Dense) Bool
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140328"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Integer -&gt; Three)
-&gt; Encode ('Closed 'Dense) Integer -&gt; Encode 'Open Three
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Encode ('Closed 'Dense) Integer
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140327"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-275"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-var">encThree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span id="local-6989586621679140326"><span class="annot"><span class="annottext">Two
</span><a href="#local-6989586621679140326"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Two -&gt; Three) -&gt; Word -&gt; Encode 'Open (Two -&gt; Three)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Two -&gt; Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#F"><span class="hs-identifier hs-var">F</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Two -&gt; Three)
-&gt; Encode ('Closed 'Dense) Two -&gt; Encode 'Open Three
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Two -&gt; Encode ('Closed 'Dense) Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTwo"><span class="hs-identifier hs-var">encTwo</span></a></span><span> </span><span class="annot"><span class="annottext">Two
</span><a href="#local-6989586621679140326"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140322"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Three"><span class="hs-identifier hs-type">Three</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>  </span><span id="local-6989586621679140321"><span class="annot"><span class="annottext">fromCBOR :: Decoder s Three
</span><a href="#local-6989586621679140321"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Three -&gt; Decoder s Three
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Word -&gt; Decode 'Open Three) -&gt; Decode ('Closed 'Dense) Three
forall t.
String -&gt; (Word -&gt; Decode 'Open t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Summands</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Three&quot;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decThree"><span class="hs-identifier hs-var">decThree</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140314"><span id="local-6989586621679140316"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Three"><span class="hs-identifier hs-type">Three</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679140313"><span class="annot"><span class="annottext">toCBOR :: Three -&gt; Encoding
</span><a href="#local-6989586621679140313"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span id="local-6989586621679140312"><span class="annot"><span class="annottext">Three
</span><a href="#local-6989586621679140312"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encode 'Open Three -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Three -&gt; Encode 'Open Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-var">encThree</span></a></span><span> </span><span class="annot"><span class="annottext">Three
</span><a href="#local-6989586621679140312"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- ================================================================</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- In this test we nest many Records, and flatten out everything</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-keyword">data</span><span> </span><span id="Big"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Big"><span class="hs-identifier hs-var">Big</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Big"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Big"><span class="hs-identifier hs-var">Big</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140305"><span id="local-6989586621679140307"><span id="local-6989586621679140309"><span class="annot"><span class="annottext">Int -&gt; Big -&gt; ShowS
[Big] -&gt; ShowS
Big -&gt; String
(Int -&gt; Big -&gt; ShowS)
-&gt; (Big -&gt; String) -&gt; ([Big] -&gt; ShowS) -&gt; Show Big
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Big] -&gt; ShowS
$cshowList :: [Big] -&gt; ShowS
show :: Big -&gt; String
$cshow :: Big -&gt; String
showsPrec :: Int -&gt; Big -&gt; ShowS
$cshowsPrec :: Int -&gt; Big -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-keyword">data</span><span> </span><span id="Bigger"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-var">Bigger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Bigger"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-var">Bigger</span></a></span></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Big"><span class="hs-identifier hs-type">Big</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140298"><span id="local-6989586621679140300"><span id="local-6989586621679140302"><span class="annot"><span class="annottext">Int -&gt; Bigger -&gt; ShowS
[Bigger] -&gt; ShowS
Bigger -&gt; String
(Int -&gt; Bigger -&gt; ShowS)
-&gt; (Bigger -&gt; String) -&gt; ([Bigger] -&gt; ShowS) -&gt; Show Bigger
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Bigger] -&gt; ShowS
$cshowList :: [Bigger] -&gt; ShowS
show :: Bigger -&gt; String
$cshow :: Bigger -&gt; String
showsPrec :: Int -&gt; Bigger -&gt; ShowS
$cshowsPrec :: Int -&gt; Bigger -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#bigger"><span class="hs-identifier hs-type">bigger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-type">Bigger</span></a></span><span>
</span><span id="line-291"></span><span id="bigger"><span class="annot"><span class="annottext">bigger :: Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#bigger"><span class="hs-identifier hs-var hs-var">bigger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Test -&gt; Two -&gt; Big -&gt; Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-var">Bigger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Two -&gt; Integer -&gt; Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">99</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Integer -&gt; Big
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Big"><span class="hs-identifier hs-var">Big</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">102</span></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="hs-comment">-- Note there are 9 individual items, each which fits in one CBOR Token</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- So we expect the encoding to have 10 items, 1 prefix and 9 others</span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#biggerItems"><span class="hs-identifier hs-type">biggerItems</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TermToken</span></span><span class="hs-special">]</span><span>
</span><span id="line-297"></span><span id="biggerItems"><span class="annot"><span class="annottext">biggerItems :: [TermToken]
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#biggerItems"><span class="hs-identifier hs-var hs-var">biggerItems</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; [TermToken]
</span><span class="hs-identifier hs-var">toFlatTerm</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) Bigger -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bigger -&gt; Encode ('Closed 'Dense) Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encBigger"><span class="hs-identifier hs-var">encBigger</span></a></span><span> </span><span class="annot"><span class="annottext">Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#bigger"><span class="hs-identifier hs-var">bigger</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decBigger"><span class="hs-identifier hs-type">decBigger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-type">Bigger</span></a></span><span>
</span><span id="line-300"></span><span id="decBigger"><span class="annot"><span class="annottext">decBigger :: Decode ('Closed 'Dense) Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decBigger"><span class="hs-identifier hs-var hs-var">decBigger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-301"></span><span>  </span><span class="annot"><span class="annottext">(Test -&gt; Two -&gt; Big -&gt; Bigger)
-&gt; Decode ('Closed 'Dense) (Test -&gt; Two -&gt; Big -&gt; Bigger)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Test -&gt; Two -&gt; Big -&gt; Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-var">Bigger</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Test -&gt; Two -&gt; Big -&gt; Bigger)
-&gt; Decode ('Closed 'Dense) Test
-&gt; Decode ('Closed 'Dense) (Two -&gt; Big -&gt; Bigger)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Decode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Two -&gt; Integer -&gt; Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Decode ('Closed Any) Int
-&gt; Decode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
-&gt; Decode ('Closed 'Dense) Two
-&gt; Decode ('Closed 'Dense) (Integer -&gt; Test)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Two)
-&gt; Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
-&gt; Decode ('Closed Any) Int
-&gt; Decode ('Closed 'Dense) (Bool -&gt; Two)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Bool -&gt; Two)
-&gt; Decode ('Closed Any) Bool -&gt; Decode ('Closed 'Dense) Two
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Bool
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Integer -&gt; Test)
-&gt; Decode ('Closed Any) Integer -&gt; Decode ('Closed 'Dense) Test
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Integer
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>    </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Two -&gt; Big -&gt; Bigger)
-&gt; Decode ('Closed 'Dense) Two
-&gt; Decode ('Closed 'Dense) (Big -&gt; Bigger)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Two)
-&gt; Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
-&gt; Decode ('Closed Any) Int
-&gt; Decode ('Closed 'Dense) (Bool -&gt; Two)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Bool -&gt; Two)
-&gt; Decode ('Closed Any) Bool -&gt; Decode ('Closed 'Dense) Two
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Bool
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>    </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Big -&gt; Bigger)
-&gt; Decode ('Closed 'Dense) Big -&gt; Decode ('Closed 'Dense) Bigger
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Integer -&gt; Big)
-&gt; Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Integer -&gt; Big)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Integer -&gt; Big
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Big"><span class="hs-identifier hs-var">Big</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Int -&gt; Bool -&gt; Integer -&gt; Big)
-&gt; Decode ('Closed Any) Int
-&gt; Decode ('Closed 'Dense) (Bool -&gt; Integer -&gt; Big)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Bool -&gt; Integer -&gt; Big)
-&gt; Decode ('Closed Any) Bool
-&gt; Decode ('Closed 'Dense) (Integer -&gt; Big)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Bool
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Integer -&gt; Big)
-&gt; Decode ('Closed Any) Integer -&gt; Decode ('Closed 'Dense) Big
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Integer
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encBigger"><span class="hs-identifier hs-type">encBigger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-type">Bigger</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-type">Bigger</span></a></span><span>
</span><span id="line-306"></span><span id="encBigger"><span class="annot"><span class="annottext">encBigger :: Bigger -&gt; Encode ('Closed 'Dense) Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encBigger"><span class="hs-identifier hs-var hs-var">encBigger</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-type">Bigger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-type">Test</span></a></span><span> </span><span id="local-6989586621679140293"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140293"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span id="local-6989586621679140292"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140292"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679140291"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140291"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679140290"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140290"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-type">Two</span></a></span><span> </span><span id="local-6989586621679140289"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140289"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679140288"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140288"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Big"><span class="hs-identifier hs-type">Big</span></a></span><span> </span><span id="local-6989586621679140287"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140287"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679140286"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140286"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679140285"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140285"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-307"></span><span>  </span><span class="annot"><span class="annottext">(Test -&gt; Two -&gt; Big -&gt; Bigger)
-&gt; Encode ('Closed 'Dense) (Test -&gt; Two -&gt; Big -&gt; Bigger)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Test -&gt; Two -&gt; Big -&gt; Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-var">Bigger</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Test -&gt; Two -&gt; Big -&gt; Bigger)
-&gt; Encode ('Closed 'Dense) Test
-&gt; Encode ('Closed 'Dense) (Two -&gt; Big -&gt; Bigger)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Two -&gt; Integer -&gt; Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Test"><span class="hs-identifier hs-var">Test</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Int -&gt; Two -&gt; Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140293"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Two -&gt; Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) Two
-&gt; Encode ('Closed 'Dense) (Integer -&gt; Test)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode ('Closed 'Dense) (Bool -&gt; Two)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140292"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) Bool -&gt; Encode ('Closed 'Dense) Two
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encode ('Closed 'Dense) Bool
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140291"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Integer -&gt; Test)
-&gt; Encode ('Closed 'Dense) Integer -&gt; Encode ('Closed 'Dense) Test
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Encode ('Closed 'Dense) Integer
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140290"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>    </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Two -&gt; Big -&gt; Bigger)
-&gt; Encode ('Closed 'Dense) Two
-&gt; Encode ('Closed 'Dense) (Big -&gt; Bigger)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Two
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Two"><span class="hs-identifier hs-var">Two</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode ('Closed 'Dense) (Bool -&gt; Two)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140289"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Bool -&gt; Two)
-&gt; Encode ('Closed 'Dense) Bool -&gt; Encode ('Closed 'Dense) Two
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encode ('Closed 'Dense) Bool
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140288"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>    </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Big -&gt; Bigger)
-&gt; Encode ('Closed 'Dense) Big -&gt; Encode ('Closed 'Dense) Bigger
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; Integer -&gt; Big)
-&gt; Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Integer -&gt; Big)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; Integer -&gt; Big
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Big"><span class="hs-identifier hs-var">Big</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Int -&gt; Bool -&gt; Integer -&gt; Big)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode ('Closed 'Dense) (Bool -&gt; Integer -&gt; Big)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140287"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Bool -&gt; Integer -&gt; Big)
-&gt; Encode ('Closed 'Dense) Bool
-&gt; Encode ('Closed 'Dense) (Integer -&gt; Big)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encode ('Closed 'Dense) Bool
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140286"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Integer -&gt; Big)
-&gt; Encode ('Closed 'Dense) Integer -&gt; Encode ('Closed 'Dense) Big
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Encode ('Closed 'Dense) Integer
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679140285"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140279"><span id="local-6989586621679140281"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-type">Bigger</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-312"></span><span>  </span><span id="local-6989586621679140278"><span class="annot"><span class="annottext">toCBOR :: Bigger -&gt; Encoding
</span><a href="#local-6989586621679140278"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) Bigger -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode ('Closed 'Dense) Bigger -&gt; Encoding)
-&gt; (Bigger -&gt; Encode ('Closed 'Dense) Bigger) -&gt; Bigger -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bigger -&gt; Encode ('Closed 'Dense) Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encBigger"><span class="hs-identifier hs-var">encBigger</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140274"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Bigger"><span class="hs-identifier hs-type">Bigger</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>  </span><span id="local-6989586621679140273"><span class="annot"><span class="annottext">fromCBOR :: Decoder s Bigger
</span><a href="#local-6989586621679140273"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Bigger -&gt; Decoder s Bigger
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decBigger"><span class="hs-identifier hs-var">decBigger</span></a></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-comment">-- ======================================================================</span><span>
</span><span id="line-318"></span><span class="hs-comment">-- There are two ways to write smart encoders and decoders that don't put</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- fields with default values in the Encoding, and that reconstruct them</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- on the decoding side. These techniques work on record datatypes, i.e.</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- those with only one constructor. We will illustrate the two approaches</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- in the datatype A</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-keyword">data</span><span> </span><span id="M"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="M"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140266"><span id="local-6989586621679140268"><span id="local-6989586621679140270"><span class="annot"><span class="annottext">Int -&gt; M -&gt; ShowS
[M] -&gt; ShowS
M -&gt; String
(Int -&gt; M -&gt; ShowS) -&gt; (M -&gt; String) -&gt; ([M] -&gt; ShowS) -&gt; Show M
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [M] -&gt; ShowS
$cshowList :: [M] -&gt; ShowS
show :: M -&gt; String
$cshow :: M -&gt; String
showsPrec :: Int -&gt; M -&gt; ShowS
$cshowsPrec :: Int -&gt; M -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a0"><span class="hs-identifier hs-type">a0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a1"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a2"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a3"><span class="hs-identifier hs-type">a3</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-328"></span><span id="a0"><span class="annot"><span class="annottext">a0 :: M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a0"><span class="hs-identifier hs-var hs-var">a0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ABC&quot;</span></span><span>
</span><span id="line-329"></span><span id="a1"><span class="annot"><span class="annottext">a1 :: M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a1"><span class="hs-identifier hs-var hs-var">a1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ABC&quot;</span></span><span>
</span><span id="line-330"></span><span id="a2"><span class="annot"><span class="annottext">a2 :: M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a2"><span class="hs-identifier hs-var hs-var">a2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ABC&quot;</span></span><span>
</span><span id="line-331"></span><span id="a3"><span class="annot"><span class="annottext">a3 :: M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a3"><span class="hs-identifier hs-var hs-var">a3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ABC&quot;</span></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="hs-comment">-- ==========================================================================</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- The virtual constructor stategy pretends there are mutiple constructors</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- Even though there is only one. We use invariants about the data to avoid</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- encoding some of the values.</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encM"><span class="hs-identifier hs-type">encM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Open</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-339"></span><span id="encM"><span class="annot"><span class="annottext">encM :: M -&gt; Encode 'Open M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encM"><span class="hs-identifier hs-var hs-var">encM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679140260"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140260"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Word -&gt; Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed Any) Int -&gt; Encode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed Any) Int
forall t (w :: Wrapped). t -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">OmitC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed Any) [Bool] -&gt; Encode 'Open (Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Encode ('Closed Any) [Bool]
forall t (w :: Wrapped). t -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">OmitC</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Text -&gt; M)
-&gt; Encode ('Closed 'Dense) Text -&gt; Encode 'Open M
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encode ('Closed 'Dense) Text
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140260"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-340"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encM"><span class="hs-identifier hs-var">encM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span id="local-6989586621679140258"><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140258"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679140257"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140257"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Word -&gt; Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed Any) Int -&gt; Encode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed Any) Int
forall t (w :: Wrapped). t -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">OmitC</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed 'Dense) [Bool] -&gt; Encode 'Open (Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Encode ('Closed 'Dense) [Bool]
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140258"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Text -&gt; M)
-&gt; Encode ('Closed 'Dense) Text -&gt; Encode 'Open M
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encode ('Closed 'Dense) Text
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140257"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-341"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encM"><span class="hs-identifier hs-var">encM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span id="local-6989586621679140256"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140256"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679140255"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140255"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Word -&gt; Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140256"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed Any) [Bool] -&gt; Encode 'Open (Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Encode ('Closed Any) [Bool]
forall t (w :: Wrapped). t -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">OmitC</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Text -&gt; M)
-&gt; Encode ('Closed 'Dense) Text -&gt; Encode 'Open M
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encode ('Closed 'Dense) Text
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140255"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-342"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encM"><span class="hs-identifier hs-var">encM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span id="local-6989586621679140254"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140254"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679140253"><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140253"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679140252"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140252"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>   </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Word -&gt; Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140254"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed 'Dense) [Bool] -&gt; Encode 'Open (Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Encode ('Closed 'Dense) [Bool]
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140253"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Text -&gt; M)
-&gt; Encode ('Closed 'Dense) Text -&gt; Encode 'Open M
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encode ('Closed 'Dense) Text
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140252"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decM"><span class="hs-identifier hs-type">decM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Open</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-345"></span><span id="decM"><span class="annot"><span class="annottext">decM :: Word -&gt; Decode 'Open M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decM"><span class="hs-identifier hs-var hs-var">decM</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) Int -&gt; Decode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Decode ('Closed Any) Int
forall t (w :: Wrapped). t -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Emit</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Decode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) [Bool] -&gt; Decode 'Open (Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Decode ('Closed Any) [Bool]
forall t (w :: Wrapped). t -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Emit</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Text -&gt; M)
-&gt; Decode ('Closed Any) Text -&gt; Decode 'Open M
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Text
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-346"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decM"><span class="hs-identifier hs-var">decM</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) Int -&gt; Decode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Decode ('Closed Any) Int
forall t (w :: Wrapped). t -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Emit</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Decode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) [Bool] -&gt; Decode 'Open (Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) [Bool]
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Text -&gt; M)
-&gt; Decode ('Closed Any) Text -&gt; Decode 'Open M
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Text
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-347"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decM"><span class="hs-identifier hs-var">decM</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) Int -&gt; Decode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) [Bool] -&gt; Decode 'Open (Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Decode ('Closed Any) [Bool]
forall t (w :: Wrapped). t -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Emit</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Text -&gt; M)
-&gt; Decode ('Closed Any) Text -&gt; Decode 'Open M
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Text
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-348"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decM"><span class="hs-identifier hs-var">decM</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) Int -&gt; Decode 'Open ([Bool] -&gt; Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open ([Bool] -&gt; Text -&gt; M)
-&gt; Decode ('Closed Any) [Bool] -&gt; Decode 'Open (Text -&gt; M)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) [Bool]
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Text -&gt; M)
-&gt; Decode ('Closed Any) Text -&gt; Decode 'Open M
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Text
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-349"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decM"><span class="hs-identifier hs-var">decM</span></a></span><span> </span><span id="local-6989586621679140249"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140249"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open M
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140249"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span id="dualMvirtual"><span class="annot"><span class="annottext">dualMvirtual :: Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualMvirtual"><span class="hs-identifier hs-var hs-var">dualMvirtual</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(M -&gt; Encoding) -&gt; (forall s. Decoder s M) -&gt; Dual M
forall t. (t -&gt; Encoding) -&gt; (forall s. Decoder s t) -&gt; Dual t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Dual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode 'Open M -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open M -&gt; Encoding)
-&gt; (M -&gt; Encode 'Open M) -&gt; M -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">M -&gt; Encode 'Open M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encM"><span class="hs-identifier hs-var">encM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M -&gt; Decoder s M
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; (Word -&gt; Decode 'Open M) -&gt; Decode ('Closed 'Dense) M
forall t.
String -&gt; (Word -&gt; Decode 'Open t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Summands</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;M&quot;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decM"><span class="hs-identifier hs-var">decM</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-comment">-- ================================================================================</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- The Sparse encoding strategy uses N keys, one for each field that is not defaulted</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- encode (baz (M 9 [True] (pack &quot;hi&quot;))) --Here No fields are defaulted, should be 3 keys</span><span>
</span><span id="line-356"></span><span class="hs-comment">-- [TkMapLen 3,TkInt 0,TkInt 9,TkInt 1,TkListBegin,TkBool True,TkBreak,TkInt 2,TkString &quot;hi&quot;]</span><span>
</span><span id="line-357"></span><span class="hs-comment">--                   ^key            ^key                                    ^key</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- So the user supplies a function, that encodes every field, each field must use a unique</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- key, and fields with default values have Omit wrapped around the Key encoding.</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- The user must ensure that there is NOT an Omit on a required field. 'baz' is an example.</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-type">baz</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Sparse</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-363"></span><span id="baz"><span class="annot"><span class="annottext">baz :: M -&gt; Encode ('Closed 'Sparse) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-var hs-var">baz</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span id="local-6989586621679140245"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140245"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679140244"><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140244"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621679140243"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140243"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed 'Sparse) (Int -&gt; [Bool] -&gt; Text -&gt; M)
forall t. t -&gt; Encode ('Closed 'Sparse) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Keyed</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) (Int -&gt; [Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed 'Sparse) Int
-&gt; Encode ('Closed 'Sparse) ([Bool] -&gt; Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool)
-&gt; Encode ('Closed 'Sparse) Int -&gt; Encode ('Closed 'Sparse) Int
forall t.
(t -&gt; Bool)
-&gt; Encode ('Closed 'Sparse) t -&gt; Encode ('Closed 'Sparse) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Omit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Encode ('Closed 'Dense) Int -&gt; Encode ('Closed 'Sparse) Int
forall t.
Word -&gt; Encode ('Closed 'Dense) t -&gt; Encode ('Closed 'Sparse) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Key</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140245"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) ([Bool] -&gt; Text -&gt; M)
-&gt; Encode ('Closed 'Sparse) [Bool]
-&gt; Encode ('Closed 'Sparse) (Text -&gt; M)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">([Bool] -&gt; Bool)
-&gt; Encode ('Closed 'Sparse) [Bool]
-&gt; Encode ('Closed 'Sparse) [Bool]
forall t.
(t -&gt; Bool)
-&gt; Encode ('Closed 'Sparse) t -&gt; Encode ('Closed 'Sparse) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Omit</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word
-&gt; Encode ('Closed 'Dense) [Bool]
-&gt; Encode ('Closed 'Sparse) [Bool]
forall t.
Word -&gt; Encode ('Closed 'Dense) t -&gt; Encode ('Closed 'Sparse) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Key</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Bool] -&gt; Encode ('Closed 'Dense) [Bool]
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140244"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) (Text -&gt; M)
-&gt; Encode ('Closed 'Sparse) Text -&gt; Encode ('Closed 'Sparse) M
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word
-&gt; Encode ('Closed 'Dense) Text -&gt; Encode ('Closed 'Sparse) Text
forall t.
Word -&gt; Encode ('Closed 'Dense) t -&gt; Encode ('Closed 'Sparse) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Key</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Encode ('Closed 'Dense) Text
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140243"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-comment">-- To write an Decoder we must pair a decoder for each field, with a function that updates only</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- that field. We use the Field GADT to construct these pairs, and we must write a function, that</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- for each field tag, picks out the correct pair. If the Encode and Decode don't agree on how the</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- tags correspond to a particular field, things will fail.</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#boxM"><span class="hs-identifier hs-type">boxM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-371"></span><span id="boxM"><span class="annot"><span class="annottext">boxM :: Word -&gt; Field M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#boxM"><span class="hs-identifier hs-var hs-var">boxM</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; M -&gt; M) -&gt; Decode ('Closed Any) Int -&gt; Field M
forall x t (d :: Density).
(x -&gt; t -&gt; t) -&gt; Decode ('Closed d) x -&gt; Field t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; M -&gt; M
</span><a href="#local-6989586621679140236"><span class="hs-identifier hs-var">update0</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621679140236"><span class="annot"><span class="annottext">update0 :: Int -&gt; M -&gt; M
</span><a href="#local-6989586621679140236"><span class="hs-identifier hs-var hs-var">update0</span></a></span></span><span> </span><span id="local-6989586621679140235"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140235"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679140234"><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140234"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621679140233"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140233"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140235"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140234"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140233"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-374"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#boxM"><span class="hs-identifier hs-var">boxM</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Bool] -&gt; M -&gt; M) -&gt; Decode ('Closed Any) [Bool] -&gt; Field M
forall x t (d :: Density).
(x -&gt; t -&gt; t) -&gt; Decode ('Closed d) x -&gt; Field t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; M -&gt; M
</span><a href="#local-6989586621679140232"><span class="hs-identifier hs-var">update1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed Any) [Bool]
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621679140232"><span class="annot"><span class="annottext">update1 :: [Bool] -&gt; M -&gt; M
</span><a href="#local-6989586621679140232"><span class="hs-identifier hs-var hs-var">update1</span></a></span></span><span> </span><span id="local-6989586621679140231"><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140231"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span id="local-6989586621679140230"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140230"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679140229"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140229"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140230"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140231"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140229"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-377"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#boxM"><span class="hs-identifier hs-var">boxM</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; M -&gt; M) -&gt; Decode ('Closed Any) Text -&gt; Field M
forall x t (d :: Density).
(x -&gt; t -&gt; t) -&gt; Decode ('Closed d) x -&gt; Field t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; M -&gt; M
</span><a href="#local-6989586621679140228"><span class="hs-identifier hs-var">update2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed Any) Text
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621679140228"><span class="annot"><span class="annottext">update2 :: Text -&gt; M -&gt; M
</span><a href="#local-6989586621679140228"><span class="hs-identifier hs-var hs-var">update2</span></a></span></span><span> </span><span id="local-6989586621679140227"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140227"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span id="local-6989586621679140226"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140226"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679140225"><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140225"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140226"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679140225"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140227"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-380"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#boxM"><span class="hs-identifier hs-var">boxM</span></a></span><span> </span><span id="local-6989586621679140224"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140224"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Any -&gt; M -&gt; M) -&gt; Decode ('Closed Any) Any -&gt; Field M
forall x t (d :: Density).
(x -&gt; t -&gt; t) -&gt; Decode ('Closed d) x -&gt; Field t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Any
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679140223"><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140223"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140223"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word -&gt; Decode ('Closed Any) Any
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140224"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-comment">-- Finally there is a new constructor for Decode, called SparseKeyed, that decodes field</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- keyed sparse objects. The user supplies an initial value and pick function, and a list</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- of tags of the required fields. The initial value should have default values and</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- any well type value in required fields. If the encode function (baz above) is</span><span>
</span><span id="line-386"></span><span class="hs-comment">-- encoded properly the required fields in the initial value should always be over</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- overwritten. If it is not written properly, or a bad encoding comes from somewhere</span><span>
</span><span id="line-388"></span><span class="hs-comment">-- else, the intial values in the required fields might survive decoding. The list</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- of required fields is checked.</span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-type">decodeM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-392"></span><span id="decodeM"><span class="annot"><span class="annottext">decodeM :: Decode ('Closed 'Dense) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-var hs-var">decodeM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; M
-&gt; (Word -&gt; Field M)
-&gt; [(Word, String)]
-&gt; Decode ('Closed 'Dense) M
forall t.
Typeable t =&gt;
String
-&gt; t
-&gt; (Word -&gt; Field t)
-&gt; [(Word, String)]
-&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SparseKeyed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;M&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Field M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#boxM"><span class="hs-identifier hs-var">boxM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Stringpart&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Only the field with Key 2 is required</span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span id="dualM"><span class="annot"><span class="annottext">dualM :: Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualM"><span class="hs-identifier hs-var hs-var">dualM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(M -&gt; Encoding) -&gt; (forall s. Decoder s M) -&gt; Dual M
forall t. (t -&gt; Encoding) -&gt; (forall s. Decoder s t) -&gt; Dual t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Dual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) M -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode ('Closed 'Sparse) M -&gt; Encoding)
-&gt; (M -&gt; Encode ('Closed 'Sparse) M) -&gt; M -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">M -&gt; Encode ('Closed 'Sparse) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-var">baz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M -&gt; Decoder s M
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-var">decodeM</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-keyword">type</span><span> </span><span id="Answer"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Answer"><span class="hs-identifier hs-var">Answer</span></a></span></span><span> </span><span id="local-6989586621679140219"><span class="annot"><a href="#local-6989586621679140219"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Codec.CBOR.Read.DeserialiseFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140219"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#testM"><span class="hs-identifier hs-type">testM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Answer"><span class="hs-identifier hs-type">Answer</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-399"></span><span id="testM"><span class="annot"><span class="annottext">testM :: M -&gt; Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#testM"><span class="hs-identifier hs-var hs-var">testM</span></a></span></span><span> </span><span id="local-6989586621679140217"><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140217"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(M -&gt; Encoding) -&gt; (forall s. Decoder s M) -&gt; M -&gt; Answer M
forall t.
(t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-var">roundTrip'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) M -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode ('Closed 'Sparse) M -&gt; Encoding)
-&gt; (M -&gt; Encode ('Closed 'Sparse) M) -&gt; M -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">M -&gt; Encode ('Closed 'Sparse) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-var">baz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M -&gt; Decoder s M
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-var">decodeM</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140217"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span id="local-6989586621679140537"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-type">roundtrip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679140537"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dual</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140537"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140537"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TestTree</span></span></span><span>
</span><span id="line-402"></span><span id="roundtrip"><span class="annot"><span class="annottext">roundtrip :: String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var hs-var">roundtrip</span></a></span></span><span> </span><span id="local-6989586621679140215"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679140215"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dual</span></a></span><span> </span><span id="local-6989586621679140214"><span class="annot"><span class="annottext">t -&gt; Encoding
</span><a href="#local-6989586621679140214"><span class="hs-identifier hs-var">enc</span></a></span></span><span> </span><span id="local-6989586621679140213"><span class="annot"><span class="annottext">forall s. Decoder s t
</span><a href="#local-6989586621679140213"><span class="hs-identifier hs-var">dec</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679140212"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140212"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-403"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; Assertion -&gt; TestTree
</span><span class="hs-identifier hs-var">testCase</span></span><span>
</span><span id="line-404"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;roundtrip &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679140215"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; =(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140212"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; String -&gt; Bool -&gt; Assertion
String -&gt; Bool -&gt; Assertion
</span><span class="hs-identifier hs-var">assertBool</span></span><span>
</span><span id="line-406"></span><span>        </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679140215"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-407"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
forall t.
(t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-var">roundTrip'</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; Encoding
</span><a href="#local-6989586621679140214"><span class="hs-identifier hs-var">enc</span></a></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s t
</span><a href="#local-6989586621679140213"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679140212"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-408"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><span class="annottext">(ByteString, t)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-409"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679140208"><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140208"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">DeserialiseFailure -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140208"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span id="local-6989586621679140556"><span id="local-6989586621679140557"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#testEncode"><span class="hs-identifier hs-type">testEncode</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-414"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140557"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-415"></span><span>  </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140556"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140557"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-416"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Codec.CBOR.Read.DeserialiseFailure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.ByteString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140557"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-417"></span><span id="testEncode"><span class="annot"><span class="annottext">testEncode :: Encode w t -&gt; Either DeserialiseFailure (ByteString, t)
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#testEncode"><span class="hs-identifier hs-var hs-var">testEncode</span></a></span></span><span> </span><span id="local-6989586621679140205"><span class="annot"><span class="annottext">Encode w t
</span><a href="#local-6989586621679140205"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s t)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, t)
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><span class="hs-identifier hs-var">deserialiseFromBytes</span></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s t
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><span class="hs-identifier hs-var">toLazyByteString</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode w t -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">Encode w t
</span><a href="#local-6989586621679140205"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span id="local-6989586621679140533"><span id="local-6989586621679140534"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-type">deCodeTest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140534"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679140534"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140533"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140534"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TestTree</span></span></span></span><span>
</span><span id="line-420"></span><span id="deCodeTest"><span class="annot"><span class="annottext">deCodeTest :: String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var hs-var">deCodeTest</span></a></span></span><span> </span><span id="local-6989586621679140203"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679140203"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679140202"><span class="annot"><span class="annottext">Encode w t
</span><a href="#local-6989586621679140202"><span class="hs-identifier hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-421"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; Bool -&gt; TestTree
forall a. Testable a =&gt; String -&gt; a -&gt; TestTree
</span><span class="hs-identifier hs-var">testProperty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679140203"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: Decoding &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode w t -&gt; t
forall (w :: Wrapped) t. Encode w t -&gt; t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">runE</span></a></span><span> </span><span class="annot"><span class="annottext">Encode w t
</span><a href="#local-6989586621679140202"><span class="hs-identifier hs-var">sym</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; TestTree) -&gt; Bool -&gt; TestTree
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-422"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Encode w t -&gt; Either DeserialiseFailure (ByteString, t)
forall t (w :: Wrapped).
FromCBOR t =&gt;
Encode w t -&gt; Either DeserialiseFailure (ByteString, t)
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#testEncode"><span class="hs-identifier hs-var">testEncode</span></a></span><span> </span><span class="annot"><span class="annottext">Encode w t
</span><a href="#local-6989586621679140202"><span class="hs-identifier hs-var">sym</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-423"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><span class="annottext">(ByteString, t)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-424"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679140200"><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140200"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Fail to decode &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode w t -&gt; t
forall (w :: Wrapped) t. Encode w t -&gt; t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">runE</span></a></span><span> </span><span class="annot"><span class="annottext">Encode w t
</span><a href="#local-6989586621679140202"><span class="hs-identifier hs-var">sym</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; with error &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621679140200"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-comment">-- ====================================================================</span><span>
</span><span id="line-427"></span><span class="hs-comment">-- Some tests</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q0"><span class="hs-identifier hs-type">q0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q1"><span class="hs-identifier hs-type">q1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q2"><span class="hs-identifier hs-type">q2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q3"><span class="hs-identifier hs-type">q3</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#Answer"><span class="hs-identifier hs-type">Answer</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-type">M</span></a></span><span>
</span><span id="line-430"></span><span id="q0"><span class="annot"><span class="annottext">q0 :: Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q0"><span class="hs-identifier hs-var hs-var">q0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(M -&gt; Encoding) -&gt; (forall s. Decoder s M) -&gt; M -&gt; Answer M
forall t.
(t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-var">roundTrip'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679140195"><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140195"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) M -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">M -&gt; Encode ('Closed 'Sparse) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-var">baz</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140195"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M -&gt; Decoder s M
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-var">decodeM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MBC&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span id="q1"><span class="annot"><span class="annottext">q1 :: Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q1"><span class="hs-identifier hs-var hs-var">q1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(M -&gt; Encoding) -&gt; (forall s. Decoder s M) -&gt; M -&gt; Answer M
forall t.
(t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-var">roundTrip'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679140194"><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140194"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) M -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">M -&gt; Encode ('Closed 'Sparse) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-var">baz</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140194"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M -&gt; Decoder s M
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-var">decodeM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MBC&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span id="q2"><span class="annot"><span class="annottext">q2 :: Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q2"><span class="hs-identifier hs-var hs-var">q2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(M -&gt; Encoding) -&gt; (forall s. Decoder s M) -&gt; M -&gt; Answer M
forall t.
(t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-var">roundTrip'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679140193"><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140193"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) M -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">M -&gt; Encode ('Closed 'Sparse) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-var">baz</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140193"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M -&gt; Decoder s M
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-var">decodeM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">42</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MBC&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span id="q3"><span class="annot"><span class="annottext">q3 :: Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q3"><span class="hs-identifier hs-var hs-var">q3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(M -&gt; Encoding) -&gt; (forall s. Decoder s M) -&gt; M -&gt; Answer M
forall t.
(t -&gt; Encoding)
-&gt; (forall s. Decoder s t) -&gt; t -&gt; RoundTripResult t
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundTrip%27"><span class="hs-identifier hs-var">roundTrip'</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679140192"><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140192"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Sparse) M -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">M -&gt; Encode ('Closed 'Sparse) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#baz"><span class="hs-identifier hs-var">baz</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="#local-6989586621679140192"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M -&gt; Decoder s M
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeM"><span class="hs-identifier hs-var">decodeM</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Bool] -&gt; Text -&gt; M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#M"><span class="hs-identifier hs-var">M</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MBC&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ok"><span class="hs-identifier hs-type">ok</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-436"></span><span id="ok"><span class="annot"><span class="annottext">ok :: Bool
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ok"><span class="hs-identifier hs-var hs-var">ok</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Answer M -&gt; Bool) -&gt; [Answer M] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Answer M -&gt; Bool
forall a b. Either a b -&gt; Bool
</span><a href="#local-6989586621679140189"><span class="hs-identifier hs-var">isRight</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q0"><span class="hs-identifier hs-var">q0</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q1"><span class="hs-identifier hs-var">q1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q2"><span class="hs-identifier hs-var">q2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Answer M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#q3"><span class="hs-identifier hs-var">q3</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-438"></span><span>    </span><span id="local-6989586621679140189"><span class="annot"><span class="annottext">isRight :: Either a b -&gt; Bool
</span><a href="#local-6989586621679140189"><span class="hs-identifier hs-var hs-var">isRight</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-439"></span><span>    </span><span class="annot"><a href="#local-6989586621679140189"><span class="hs-identifier hs-var">isRight</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="hs-comment">-- In the examples Let  Int and C have ToCBOR instances, and dualB :: Dual B</span><span>
</span><span id="line-442"></span><span class="hs-comment">-- An example with 1 constructor (a record) uses Rec and RecD</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="hs-keyword">data</span><span> </span><span id="C"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-var">C</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="C"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-var">C</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140182"><span id="local-6989586621679140184"><span id="local-6989586621679140186"><span class="annot"><span class="annottext">Int -&gt; C -&gt; ShowS
[C] -&gt; ShowS
C -&gt; String
(Int -&gt; C -&gt; ShowS) -&gt; (C -&gt; String) -&gt; ([C] -&gt; ShowS) -&gt; Show C
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [C] -&gt; ShowS
$cshowList :: [C] -&gt; ShowS
show :: C -&gt; String
$cshow :: C -&gt; String
showsPrec :: Int -&gt; C -&gt; ShowS
$cshowsPrec :: Int -&gt; C -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140176"><span id="local-6989586621679140178"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-type">C</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679140175"><span class="annot"><span class="annottext">toCBOR :: C -&gt; Encoding
</span><a href="#local-6989586621679140175"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-type">C</span></a></span><span> </span><span id="local-6989586621679140174"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140174"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140174"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140170"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-type">C</span></a></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679140169"><span class="annot"><span class="annottext">fromCBOR :: Decoder s C
</span><a href="#local-6989586621679140169"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; C
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-var">C</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; C) -&gt; Decoder s Text -&gt; Decoder s C
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder s Text
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-keyword">data</span><span> </span><span id="BB"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-var">BB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BB"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-var">BB</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140161"><span id="local-6989586621679140163"><span id="local-6989586621679140165"><span class="annot"><span class="annottext">Int -&gt; BB -&gt; ShowS
[BB] -&gt; ShowS
BB -&gt; String
(Int -&gt; BB -&gt; ShowS)
-&gt; (BB -&gt; String) -&gt; ([BB] -&gt; ShowS) -&gt; Show BB
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [BB] -&gt; ShowS
$cshowList :: [BB] -&gt; ShowS
show :: BB -&gt; String
$cshow :: BB -&gt; String
showsPrec :: Int -&gt; BB -&gt; ShowS
$cshowsPrec :: Int -&gt; BB -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualBB"><span class="hs-identifier hs-type">dualBB</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dual</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-type">BB</span></a></span><span>
</span><span id="line-453"></span><span id="dualBB"><span class="annot"><span class="annottext">dualBB :: Dual BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualBB"><span class="hs-identifier hs-var hs-var">dualBB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(BB -&gt; Encoding) -&gt; (forall s. Decoder s BB) -&gt; Dual BB
forall t. (t -&gt; Encoding) -&gt; (forall s. Decoder s t) -&gt; Dual t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Dual</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-type">BB</span></a></span><span> </span><span id="local-6989586621679140159"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140159"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679140159"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-var">BB</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; BB) -&gt; Decoder s Text -&gt; Decoder s BB
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Decoder s Text
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-var">fromCBOR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-comment">-- Record Type</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-keyword">data</span><span> </span><span id="A"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-var">A</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ACon"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ACon"><span class="hs-identifier hs-var">ACon</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-type">BB</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-type">C</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140152"><span id="local-6989586621679140154"><span id="local-6989586621679140156"><span class="annot"><span class="annottext">Int -&gt; A -&gt; ShowS
[A] -&gt; ShowS
A -&gt; String
(Int -&gt; A -&gt; ShowS) -&gt; (A -&gt; String) -&gt; ([A] -&gt; ShowS) -&gt; Show A
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [A] -&gt; ShowS
$cshowList :: [A] -&gt; ShowS
show :: A -&gt; String
$cshow :: A -&gt; String
showsPrec :: Int -&gt; A -&gt; ShowS
$cshowsPrec :: Int -&gt; A -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeA"><span class="hs-identifier hs-type">encodeA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-type">A</span></a></span><span>
</span><span id="line-460"></span><span id="encodeA"><span class="annot"><span class="annottext">encodeA :: A -&gt; Encode ('Closed 'Dense) A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeA"><span class="hs-identifier hs-var hs-var">encodeA</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ACon"><span class="hs-identifier hs-type">ACon</span></a></span><span> </span><span id="local-6989586621679140150"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140150"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679140149"><span class="annot"><span class="annottext">BB
</span><a href="#local-6989586621679140149"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679140148"><span class="annot"><span class="annottext">C
</span><a href="#local-6989586621679140148"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; BB -&gt; C -&gt; A)
-&gt; Encode ('Closed 'Dense) (Int -&gt; BB -&gt; C -&gt; A)
forall t. t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Rec</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; BB -&gt; C -&gt; A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ACon"><span class="hs-identifier hs-var">ACon</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (Int -&gt; BB -&gt; C -&gt; A)
-&gt; Encode ('Closed 'Dense) Int
-&gt; Encode ('Closed 'Dense) (BB -&gt; C -&gt; A)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140150"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (BB -&gt; C -&gt; A)
-&gt; Encode ('Closed 'Dense) BB -&gt; Encode ('Closed 'Dense) (C -&gt; A)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB -&gt; BB -&gt; Encode ('Closed 'Dense) BB
forall t. Dual t -&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">ED</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualBB"><span class="hs-identifier hs-var">dualBB</span></a></span><span> </span><span class="annot"><span class="annottext">BB
</span><a href="#local-6989586621679140149"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) (C -&gt; A)
-&gt; Encode ('Closed 'Dense) C -&gt; Encode ('Closed 'Dense) A
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">C -&gt; Encode ('Closed 'Dense) C
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">C
</span><a href="#local-6989586621679140148"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeA"><span class="hs-identifier hs-type">decodeA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-type">A</span></a></span><span>
</span><span id="line-463"></span><span id="decodeA"><span class="annot"><span class="annottext">decodeA :: Decode ('Closed 'Dense) A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeA"><span class="hs-identifier hs-var hs-var">decodeA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; BB -&gt; C -&gt; A)
-&gt; Decode ('Closed 'Dense) (Int -&gt; BB -&gt; C -&gt; A)
forall t. t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">RecD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; BB -&gt; C -&gt; A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ACon"><span class="hs-identifier hs-var">ACon</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (Int -&gt; BB -&gt; C -&gt; A)
-&gt; Decode ('Closed Any) Int
-&gt; Decode ('Closed 'Dense) (BB -&gt; C -&gt; A)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (BB -&gt; C -&gt; A)
-&gt; Decode ('Closed 'Dense) BB -&gt; Decode ('Closed 'Dense) (C -&gt; A)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB -&gt; Decode ('Closed 'Dense) BB
forall t. Dual t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">DD</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualBB"><span class="hs-identifier hs-var">dualBB</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (C -&gt; A)
-&gt; Decode ('Closed Any) C -&gt; Decode ('Closed 'Dense) A
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) C
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140139"><span id="local-6989586621679140141"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-type">A</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679140138"><span class="annot"><span class="annottext">toCBOR :: A -&gt; Encoding
</span><a href="#local-6989586621679140138"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span id="local-6989586621679140137"><span class="annot"><span class="annottext">A
</span><a href="#local-6989586621679140137"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) A -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">A -&gt; Encode ('Closed 'Dense) A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeA"><span class="hs-identifier hs-var">encodeA</span></a></span><span> </span><span class="annot"><span class="annottext">A
</span><a href="#local-6989586621679140137"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679140133"><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/cardano-binary-1.5.0/noopt/doc/html/cardano-binary/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-type">A</span></a></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679140132"><span class="annot"><span class="annottext">fromCBOR :: Decoder s A
</span><a href="#local-6989586621679140132"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) A -&gt; Decoder s A
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeA"><span class="hs-identifier hs-var">decodeA</span></a></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span id="dualA"><span class="annot"><span class="annottext">dualA :: Dual A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualA"><span class="hs-identifier hs-var hs-var">dualA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(A -&gt; Encoding) -&gt; (forall s. Decoder s A) -&gt; Dual A
forall t. (t -&gt; Encoding) -&gt; (forall s. Decoder s t) -&gt; Dual t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Dual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode ('Closed 'Dense) A -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode ('Closed 'Dense) A -&gt; Encoding)
-&gt; (A -&gt; Encode ('Closed 'Dense) A) -&gt; A -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">A -&gt; Encode ('Closed 'Dense) A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeA"><span class="hs-identifier hs-var">encodeA</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) A -&gt; Decoder s A
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeA"><span class="hs-identifier hs-var">decodeA</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span id="recordTests"><span class="annot"><span class="annottext">recordTests :: TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#recordTests"><span class="hs-identifier hs-var hs-var">recordTests</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-472"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; [TestTree] -&gt; TestTree
</span><span class="hs-identifier hs-var">testGroup</span></span><span>
</span><span id="line-473"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Record tests&quot;</span></span><span>
</span><span id="line-474"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Dual A -&gt; A -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A1&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualA"><span class="hs-identifier hs-var">dualA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; BB -&gt; C -&gt; A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ACon"><span class="hs-identifier hs-var">ACon</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">34</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-var">BB</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;HI&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; C
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-var">C</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;There&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-475"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; Dual A -&gt; A -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;A2&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualA"><span class="hs-identifier hs-var">dualA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; BB -&gt; C -&gt; A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ACon"><span class="hs-identifier hs-var">ACon</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-var">BB</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;One&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; C
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-var">C</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Two&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="hs-comment">-- An example with multiple constructors uses Sum, SumD, and Summands</span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="hs-keyword">data</span><span> </span><span id="N"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-var">N</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="N1"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N1"><span class="hs-identifier hs-var">N1</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="N2"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N2"><span class="hs-identifier hs-var">N2</span></a></span></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-type">BB</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="N3"><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N3"><span class="hs-identifier hs-var">N3</span></a></span></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#A"><span class="hs-identifier hs-type">A</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140120"><span id="local-6989586621679140122"><span id="local-6989586621679140124"><span class="annot"><span class="annottext">Int -&gt; N -&gt; ShowS
[N] -&gt; ShowS
N -&gt; String
(Int -&gt; N -&gt; ShowS) -&gt; (N -&gt; String) -&gt; ([N] -&gt; ShowS) -&gt; Show N
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [N] -&gt; ShowS
$cshowList :: [N] -&gt; ShowS
show :: N -&gt; String
$cshow :: N -&gt; String
showsPrec :: Int -&gt; N -&gt; ShowS
$cshowsPrec :: Int -&gt; N -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeN"><span class="hs-identifier hs-type">encodeN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Encode</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Open</span></a></span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-type">N</span></a></span><span>
</span><span id="line-483"></span><span id="encodeN"><span class="annot"><span class="annottext">encodeN :: N -&gt; Encode 'Open N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeN"><span class="hs-identifier hs-var hs-var">encodeN</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N1"><span class="hs-identifier hs-type">N1</span></a></span><span> </span><span id="local-6989586621679140118"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140118"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; N) -&gt; Word -&gt; Encode 'Open (Int -&gt; N)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N1"><span class="hs-identifier hs-var">N1</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Int -&gt; N)
-&gt; Encode ('Closed 'Dense) Int -&gt; Encode 'Open N
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Encode ('Closed 'Dense) Int
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679140118"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-484"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeN"><span class="hs-identifier hs-var">encodeN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N2"><span class="hs-identifier hs-type">N2</span></a></span><span> </span><span id="local-6989586621679140117"><span class="annot"><span class="annottext">BB
</span><a href="#local-6989586621679140117"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679140116"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140116"><span class="hs-identifier hs-var">tf</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(BB -&gt; Bool -&gt; N) -&gt; Word -&gt; Encode 'Open (BB -&gt; Bool -&gt; N)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">BB -&gt; Bool -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N2"><span class="hs-identifier hs-var">N2</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (BB -&gt; Bool -&gt; N)
-&gt; Encode ('Closed 'Dense) BB -&gt; Encode 'Open (Bool -&gt; N)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB -&gt; BB -&gt; Encode ('Closed 'Dense) BB
forall t. Dual t -&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">ED</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualBB"><span class="hs-identifier hs-var">dualBB</span></a></span><span> </span><span class="annot"><span class="annottext">BB
</span><a href="#local-6989586621679140117"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Bool -&gt; N)
-&gt; Encode ('Closed 'Dense) Bool -&gt; Encode 'Open N
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Encode ('Closed 'Dense) Bool
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679140116"><span class="hs-identifier hs-var">tf</span></a></span><span>
</span><span id="line-485"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeN"><span class="hs-identifier hs-var">encodeN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N3"><span class="hs-identifier hs-type">N3</span></a></span><span> </span><span id="local-6989586621679140115"><span class="annot"><span class="annottext">A
</span><a href="#local-6989586621679140115"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(A -&gt; N) -&gt; Word -&gt; Encode 'Open (A -&gt; N)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">A -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N3"><span class="hs-identifier hs-var">N3</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (A -&gt; N)
-&gt; Encode ('Closed 'Dense) A -&gt; Encode 'Open N
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">A -&gt; Encode ('Closed 'Dense) A
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">A
</span><a href="#local-6989586621679140115"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeN"><span class="hs-identifier hs-type">decodeN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-type">Dense</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N"><span class="hs-identifier hs-type">N</span></a></span><span>
</span><span id="line-488"></span><span id="decodeN"><span class="annot"><span class="annottext">decodeN :: Decode ('Closed 'Dense) N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeN"><span class="hs-identifier hs-var hs-var">decodeN</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Word -&gt; Decode 'Open N) -&gt; Decode ('Closed 'Dense) N
forall t.
String -&gt; (Word -&gt; Decode 'Open t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Summands</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;N&quot;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open N
</span><a href="#local-6989586621679140113"><span class="hs-identifier hs-var">decodeNx</span></a></span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-490"></span><span>    </span><span id="local-6989586621679140113"><span class="annot"><span class="annottext">decodeNx :: Word -&gt; Decode 'Open N
</span><a href="#local-6989586621679140113"><span class="hs-identifier hs-var hs-var">decodeNx</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; N) -&gt; Decode 'Open (Int -&gt; N)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N1"><span class="hs-identifier hs-var">N1</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Int -&gt; N)
-&gt; Decode ('Closed Any) Int -&gt; Decode 'Open N
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Int
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-491"></span><span>    </span><span class="annot"><a href="#local-6989586621679140113"><span class="hs-identifier hs-var">decodeNx</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(BB -&gt; Bool -&gt; N) -&gt; Decode 'Open (BB -&gt; Bool -&gt; N)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">BB -&gt; Bool -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N2"><span class="hs-identifier hs-var">N2</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (BB -&gt; Bool -&gt; N)
-&gt; Decode ('Closed 'Dense) BB -&gt; Decode 'Open (Bool -&gt; N)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB -&gt; Decode ('Closed 'Dense) BB
forall t. Dual t -&gt; Decode ('Closed 'Dense) t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">DD</span></a></span><span> </span><span class="annot"><span class="annottext">Dual BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualBB"><span class="hs-identifier hs-var">dualBB</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Bool -&gt; N)
-&gt; Decode ('Closed Any) Bool -&gt; Decode 'Open N
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Bool
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-492"></span><span>    </span><span class="annot"><a href="#local-6989586621679140113"><span class="hs-identifier hs-var">decodeNx</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(A -&gt; N) -&gt; Decode 'Open (A -&gt; N)
forall t. t -&gt; Decode 'Open t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">A -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N3"><span class="hs-identifier hs-var">N3</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (A -&gt; N) -&gt; Decode ('Closed Any) A -&gt; Decode 'Open N
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) A
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-493"></span><span>    </span><span class="annot"><a href="#local-6989586621679140113"><span class="hs-identifier hs-var">decodeNx</span></a></span><span> </span><span id="local-6989586621679140112"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140112"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open N
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679140112"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span id="dualN"><span class="annot"><span class="annottext">dualN :: Dual N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualN"><span class="hs-identifier hs-var hs-var">dualN</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(N -&gt; Encoding) -&gt; (forall s. Decoder s N) -&gt; Dual N
forall t. (t -&gt; Encoding) -&gt; (forall s. Decoder s t) -&gt; Dual t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">Dual</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encode 'Open N -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open N -&gt; Encoding)
-&gt; (N -&gt; Encode 'Open N) -&gt; N -&gt; Encoding
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">N -&gt; Encode 'Open N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encodeN"><span class="hs-identifier hs-var">encodeN</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) N -&gt; Decoder s N
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.2/small-steps-0.1.0.0/noopt/doc/html/small-steps/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#decodeN"><span class="hs-identifier hs-var">decodeN</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="hs-comment">-- ============================================================</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="annot"><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#codersTest"><span class="hs-identifier hs-type">codersTest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TestTree</span></span><span>
</span><span id="line-500"></span><span id="codersTest"><span class="annot"><span class="annottext">codersTest :: TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#codersTest"><span class="hs-identifier hs-var hs-var">codersTest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-501"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; [TestTree] -&gt; TestTree
</span><span class="hs-identifier hs-var">testGroup</span></span><span>
</span><span id="line-502"></span><span>    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Coders&quot;</span></span><span>
</span><span id="line-503"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; [TestTree] -&gt; TestTree
</span><span class="hs-identifier hs-var">testGroup</span></span><span>
</span><span id="line-504"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Simple Coders&quot;</span></span><span>
</span><span id="line-505"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open TT -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;sA&quot;</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sA"><span class="hs-identifier hs-var">sA</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-506"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open TT -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;sB&quot;</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sB"><span class="hs-identifier hs-var">sB</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-507"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open TT -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;sG&quot;</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sG"><span class="hs-identifier hs-var">sG</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-508"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open TT -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;sGA&quot;</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sGa"><span class="hs-identifier hs-var">sGa</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-509"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open TT -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;sH&quot;</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open TT
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#sH"><span class="hs-identifier hs-var">sH</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-510"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open Three -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Three1&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Three -&gt; Encode 'Open Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-var">encThree</span></a></span><span> </span><span class="annot"><span class="annottext">Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three1"><span class="hs-identifier hs-var">three1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-511"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open Three -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Three2&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Three -&gt; Encode 'Open Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-var">encThree</span></a></span><span> </span><span class="annot"><span class="annottext">Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three2"><span class="hs-identifier hs-var">three2</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-512"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode 'Open Three -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Three3&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Three -&gt; Encode 'Open Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encThree"><span class="hs-identifier hs-var">encThree</span></a></span><span> </span><span class="annot"><span class="annottext">Three
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#three3"><span class="hs-identifier hs-var">three3</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-513"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode ('Closed 'Dense) Test -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;test1&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Test -&gt; Encode ('Closed 'Dense) Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encTestWithGroupForTwo"><span class="hs-identifier hs-var">encTestWithGroupForTwo</span></a></span><span> </span><span class="annot"><span class="annottext">Test
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#test1"><span class="hs-identifier hs-var">test1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-514"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Property -&gt; TestTree
forall a. Testable a =&gt; String -&gt; a -&gt; TestTree
</span><span class="hs-identifier hs-var">testProperty</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;encode Bigger is compact&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TermToken] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[TermToken]
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#biggerItems"><span class="hs-identifier hs-var">biggerItems</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Property
forall a. (Eq a, Show a) =&gt; a -&gt; a -&gt; Property
</span><span class="hs-operator hs-var">===</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-515"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Encode ('Closed 'Dense) Bigger -&gt; TestTree
forall t (w :: Wrapped).
(FromCBOR t, Show t) =&gt;
String -&gt; Encode w t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#deCodeTest"><span class="hs-identifier hs-var">deCodeTest</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Bigger inlines&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bigger -&gt; Encode ('Closed 'Dense) Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#encBigger"><span class="hs-identifier hs-var">encBigger</span></a></span><span> </span><span class="annot"><span class="annottext">Bigger
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#bigger"><span class="hs-identifier hs-var">bigger</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>        </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-517"></span><span>      </span><span class="annot"><span class="annottext">TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#recordTests"><span class="hs-identifier hs-var">recordTests</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-518"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; [TestTree] -&gt; TestTree
</span><span class="hs-identifier hs-var">testGroup</span></span><span>
</span><span id="line-519"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sparse tests&quot;</span></span><span>
</span><span id="line-520"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a0&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualM"><span class="hs-identifier hs-var">dualM</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a0"><span class="hs-identifier hs-var">a0</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-521"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a1&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualM"><span class="hs-identifier hs-var">dualM</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a1"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-522"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a2&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualM"><span class="hs-identifier hs-var">dualM</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a2"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-523"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a3&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualM"><span class="hs-identifier hs-var">dualM</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a3"><span class="hs-identifier hs-var">a3</span></a></span><span>
</span><span id="line-524"></span><span>        </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-525"></span><span>       </span><span class="annot"><span class="annottext">String -&gt; [TestTree] -&gt; TestTree
</span><span class="hs-identifier hs-var">testGroup</span></span><span>
</span><span id="line-526"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Virtual Cosntructor tests&quot;</span></span><span>
</span><span id="line-527"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a0v&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualMvirtual"><span class="hs-identifier hs-var">dualMvirtual</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a0"><span class="hs-identifier hs-var">a0</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-528"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a1v&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualMvirtual"><span class="hs-identifier hs-var">dualMvirtual</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a1"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-529"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a2v&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualMvirtual"><span class="hs-identifier hs-var">dualMvirtual</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a2"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-530"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual M -&gt; M -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a3v&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualMvirtual"><span class="hs-identifier hs-var">dualMvirtual</span></a></span><span> </span><span class="annot"><span class="annottext">M
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#a3"><span class="hs-identifier hs-var">a3</span></a></span><span>
</span><span id="line-531"></span><span>        </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-532"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; [TestTree] -&gt; TestTree
</span><span class="hs-identifier hs-var">testGroup</span></span><span>
</span><span id="line-533"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Sum tests&quot;</span></span><span>
</span><span id="line-534"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Dual N -&gt; N -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;N1&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualN"><span class="hs-identifier hs-var">dualN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N1"><span class="hs-identifier hs-var">N1</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-535"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual N -&gt; N -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;N2&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualN"><span class="hs-identifier hs-var">dualN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BB -&gt; Bool -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N2"><span class="hs-identifier hs-var">N2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-var">BB</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;N2&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-536"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Dual N -&gt; N -&gt; TestTree
forall t. Show t =&gt; String -&gt; Dual t -&gt; t -&gt; TestTree
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#roundtrip"><span class="hs-identifier hs-var">roundtrip</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;N3&quot;</span></span><span> </span><span class="annot"><span class="annottext">Dual N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#dualN"><span class="hs-identifier hs-var">dualN</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">A -&gt; N
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#N3"><span class="hs-identifier hs-var">N3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; BB -&gt; C -&gt; A
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#ACon"><span class="hs-identifier hs-var">ACon</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; BB
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#BB"><span class="hs-identifier hs-var">BB</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;N3&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; C
</span><a href="Test.Cardano.Ledger.ShelleyMA.Serialisation.Coders.html#C"><span class="hs-identifier hs-var">C</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Test&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-538"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-539"></span></pre></body></html>